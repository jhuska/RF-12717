<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:fn="http://java.sun.com/jsp/jstl/functions"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich">


<h:head>
	<title><ui:insert name="pageTitle">Sample App</ui:insert></title>
</h:head>

<h:body>

	<ui:debug hotkey="a" />

	<h:form>
		<h2>Sample Richfaces dataTable</h2>
		<h4>Click Show Table and then click on a link in the Row Number
			column to trigger the error.</h4>
		<div>
			<h:commandButton value=" Show Table " type="submit"
				action="#{sampleBean.show}" />
			<h:commandButton value=" Clear " type="submit"
				action="#{sampleBean.clear}" />
		</div>
		<div id="resultsHolder">
			<rich:dataTable value="#{sampleBean.data}" var="result"
				rendered="#{!empty sampleBean.data}">
				<rich:column>
					<f:facet name="header">
						<h:outputText value="Row Number" />
					</f:facet>
					<h:commandLink action="#{sampleBean.loadDataById(result.id)}"
						value="#{result.id}" immediate="true" />
				</rich:column>
				<rich:column>
					<f:facet name="header">
						<h:outputText value="Description" />
					</f:facet>
					<h:outputText value="#{result.description}" />
				</rich:column>

				<rich:column id="alias">
					<f:facet name="header">
						<h:outputText value="Aliases" />
					</f:facet>
					<a4j:repeat var="alias" value="#{result.aliases}">
						<h:outputText value="#{alias} " />
					</a4j:repeat>
				</rich:column>

				<rich:column id="accountManager">
					<f:facet name="header">
						<h:outputText value="Date" />
					</f:facet>
					<h:outputText value="#{result.theDate}" />
				</rich:column>
			</rich:dataTable>
		</div>
	</h:form>

</h:body>

</html>
